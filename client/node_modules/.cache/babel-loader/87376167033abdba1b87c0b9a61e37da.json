{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import{connect}from\"react-redux\";import Moment from'react-moment';import{addLike,removeLike,deletePost}from'../../actions/post';import{Fragment}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostItem=function PostItem(_ref){var addLike=_ref.addLike,removeLike=_ref.removeLike,deletePost=_ref.deletePost,auth=_ref.auth,_ref$post=_ref.post,_id=_ref$post._id,text=_ref$post.text,name=_ref$post.name,avatar=_ref$post.avatar,user=_ref$post.user,likes=_ref$post.likes,comments=_ref$post.comments,date=_ref$post.date,showActions=_ref.showActions;return/*#__PURE__*/_jsxs(\"div\",{className:\"post bg-white p-1 my-1\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/profile/\".concat(user),children:[/*#__PURE__*/_jsx(\"img\",{className:\"round-img\",src:avatar,alt:\"\"}),/*#__PURE__*/_jsx(\"h4\",{children:name})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"my-1\",children:text}),/*#__PURE__*/_jsxs(\"p\",{className:\"post-date\",children:[\"Posted on \",/*#__PURE__*/_jsx(Moment,{format:\"YYYY/MM/DD\",children:date})]}),showActions&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(e){return addLike(_id);},type:\"button\",className:\"btn btn-light\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-thumbs-up\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:likes.length>0&&/*#__PURE__*/_jsx(\"span\",{children:likes.length})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return removeLike(_id);},type:\"button\",className:\"btn btn-light\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-thumbs-down\"})}),/*#__PURE__*/_jsxs(Link,{to:\"/posts/\".concat(_id),className:\"btn btn-primary\",children:[\"Discussion\",comments.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"comment-count\",children:comments.length})]}),!auth.loading&&user===auth.user._id&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return deletePost(_id);},type:\"button\",className:\"btn btn-danger\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})})]})]})]});};PostItem.defaultProps={showActions:true};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,{addLike:addLike,removeLike:removeLike,deletePost:deletePost})(PostItem);","map":{"version":3,"sources":["/home/kartik/Desktop/FSD-HV-ACADEMY/social-media-app/my-app/src/components/posts/PostItem.js"],"names":["React","Link","connect","Moment","addLike","removeLike","deletePost","Fragment","PostItem","auth","post","_id","text","name","avatar","user","likes","comments","date","showActions","e","length","loading","defaultProps","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React from 'react'\nimport propTypes from 'prop-types'\nimport {Link} from 'react-router-dom';\nimport {connect} from \"react-redux\";\nimport Moment from 'react-moment';\nimport {addLike,removeLike, deletePost,} from '../../actions/post';\nimport { Fragment } from 'react';\n\nconst PostItem = ({addLike, removeLike,deletePost,auth,post:{_id,text,name,avatar,user, likes, comments,date},showActions}) => (\n        <div className=\"post bg-white p-1 my-1\">\n          <div>\n            <Link to={`/profile/${user}`}>\n              <img\n                className=\"round-img\"\n                src={avatar}\n                alt=\"\"\n              />\n              <h4>{name}</h4>\n            </Link>\n          </div>\n          <div>\n            <p className=\"my-1\">\n             {text}\n            </p>\n             <p className=\"post-date\">\n                Posted on <Moment format=\"YYYY/MM/DD\">{date}</Moment>\n            </p>\n            {showActions && <Fragment>\n              <button onClick={e => addLike(_id)} type=\"button\" className=\"btn btn-light\">\n              <i className=\"fas fa-thumbs-up\"></i>{\" \"}\n              <span>{likes.length > 0 && (\n               <span >{likes.length}</span>\n               )}</span>\n            </button>\n            <button onClick={e => removeLike(_id)} type=\"button\" className=\"btn btn-light\">\n              <i className=\"fas fa-thumbs-down\"></i>\n            </button>\n            <Link to={`/posts/${_id}`} className=\"btn btn-primary\">\n              Discussion{comments.length > 0 && (\n               <span className='comment-count'>{comments.length}</span>\n               )}\n            </Link>\n            {!auth.loading && user === auth.user._id && (\n                <button onClick={e => deletePost(_id)}     \n                  type=\"button\" className=\"btn btn-danger\">\n                  <i className=\"fas fa-times\"></i>\n                </button>\n            )}\n          \n              </Fragment>}\n            \n          </div>\n          </div>)\n\nPostItem.defaultProps = {\n  showActions:true\n}\n\nPostItem.propTypes = {\n    post : propTypes.object.isRequired,\n    auth : propTypes.object.isRequired,\n    addLike : propTypes.func.isRequired,\n    removeLike : propTypes.func.isRequired,\n    deletePost : propTypes.func.isRequired,\n}\n\nconst mapStateToProps = state => ({\n    auth : state.auth\n})\n\nexport default connect(mapStateToProps,{addLike,removeLike,deletePost})(PostItem)\n"]},"metadata":{},"sourceType":"module"}